# 制作和上传自定义镜像<a name="modelarts_23_0085"></a>

ModelArts支持您使用自定义镜像创建训练作业和导入模型。在制作和上传自定义镜像之前，您需要了解以下内容：

-   SWR服务。

    容器镜像服务（Software Repository for Container，简称SWR）是一种支持镜像全生命周期管理的服务， 提供简单易用、安全可靠的镜像管理功能，帮助您快速部署容器化服务。您可以通过界面、社区CLI和原生API上传、下载和管理容器镜像。

    ModelArts训练和导入模型使用的自定义镜像需要从SWR服务管理列表获取。您制作的自定义镜像需要上传至SWR服务。

-   自定义镜像规范。如果您使用自定义镜像用于训练作业请参考[训练作业自定义镜像规范](训练作业自定义镜像规范.md)；如果您使用自定义镜像用于导入模型请参考[导入模型自定义镜像规范](导入模型自定义镜像规范.md)。

## 制作并上传自定义镜像<a name="section125639162589"></a>

1.  购买华为云ECS或者应用本地主机搭建Docker环境。
2.  在本地环境拉取基础镜像。
3.  根据您的实际需求编写Dockerfile文件构建自定义镜像。如何高效编写Dockerfile指导可参考[SWR服务最佳实践](https://support.huaweicloud.com/bestpractice-swr/swr_bestpractice_0002.html)。
    -   如果您使用自定义镜像用于训练作业请参考示例[制作自定义镜像](示例-使用自定义镜像创建训练作业.md#section5491135613409)。
    -   如果您使用自定义镜像用于导入模型请参考示例[本地构建镜像](示例-使用自定义镜像导入模型.md#section537112981619)。


1.  当完成自定义镜像制作后，请参考[上传镜像至容器镜像服务](https://support.huaweicloud.com/usermanual-swr/swr_01_0011.html)将镜像上传到自己的SWR中。

